#!/usr/bin/env bash
set -euo pipefail

FILES=(
"./AppendixA_final.lyx"
"./AppendixB_final.lyx"
"./chapter01_final.lyx"
"./chapter02_final.lyx"
"./chapter03_final.lyx"
"./chapter04_final.lyx"
"./chapter05_final.lyx"
"./chapter06_final.lyx"
"./chapter07_final.lyx"
)

for f in "${FILES[@]}"; do
  if [ ! -f "$f" ]; then
    echo "Skip: $f not found" >&2
    continue
  fi
  cp -p "$f" "$f.bak"
  echo "Fixing: $f"

sed -i 's/0.0002m/0.0002 \, \text{m}/g' "$f"
sed -i 's/0.0003m/0.0003 \, \text{m}/g' "$f"
sed -i 's/0.001m/0.001 \, \text{m}/g' "$f"
sed -i 's/0.002m/0.002 \, \text{m}/g' "$f"
sed -i 's/0.004m/0.004 \, \text{m}/g' "$f"
sed -i 's/0.005s/0.005 \, \text{s}/g' "$f"
sed -i 's/0.008m/0.008 \, \text{m}/g' "$f"
sed -i 's/0.01m/0.01 \, \text{m}/g' "$f"
sed -i 's/0.025m/0.025 \, \text{m}/g' "$f"
sed -i 's/0.026m/0.026 \, \text{m}/g' "$f"
sed -i 's/0.0312m/0.0312 \, \text{m}/g' "$f"
sed -i 's/0.0326m/0.0326 \, \text{m}/g' "$f"
sed -i 's/0.0387m/0.0387 \, \text{m}/g' "$f"
sed -i 's/0.039m/0.039 \, \text{m}/g' "$f"
sed -i 's/0.03s/0.03 \, \text{s}/g' "$f"
sed -i 's/0.0464m/0.0464 \, \text{m}/g' "$f"
sed -i 's/0.066m/0.066 \, \text{m}/g' "$f"
sed -i 's/0.0696m/0.0696 \, \text{m}/g' "$f"
sed -i 's/0.078s/0.078 \, \text{s}/g' "$f"
sed -i 's/0.09dB/0.09 \, \text{dB}/g' "$f"
sed -i 's/0.1m/0.1 \, \text{m}/g' "$f"
sed -i 's/0.1s/0.1 \, \text{s}/g' "$f"
sed -i 's/0.219s/0.219 \, \text{s}/g' "$f"
sed -i 's/0.23s/0.23 \, \text{s}/g' "$f"
sed -i 's/0.2m/0.2 \, \text{m}/g' "$f"
sed -i 's/0.2s/0.2 \, \text{s}/g' "$f"
sed -i 's/0.3m/0.3 \, \text{m}/g' "$f"
sed -i 's/0.5m/0.5 \, \text{m}/g' "$f"
sed -i 's/1.2Pa/1.2 \, \text{Pa}/g' "$f"
sed -i 's/1000Hz/1000 \, \text{Hz}/g' "$f"
sed -i 's/100Hz/100 \, \text{Hz}/g' "$f"
sed -i 's/100Pa/100 \, \text{Pa}/g' "$f"
sed -i 's/100m/100 \, \text{m}/g' "$f"
sed -i 's/101325Pa/101325 \, \text{Pa}/g' "$f"
sed -i 's/10kHz/10 \, \text{kHz}/g' "$f"
sed -i 's/10m/10 \, \text{m}/g' "$f"
sed -i 's/110m/110 \, \text{m}/g' "$f"
sed -i 's/12.5Pa/12.5 \, \text{Pa}/g' "$f"
sed -i 's/12m/12 \, \text{m}/g' "$f"
sed -i 's/134dB/134 \, \text{dB}/g' "$f"
sed -i 's/15m/15 \, \text{m}/g' "$f"
sed -i 's/170Hz/170 \, \text{Hz}/g' "$f"
sed -i 's/1715Hz/1715 \, \text{Hz}/g' "$f"
sed -i 's/1716Hz/1716 \, \text{Hz}/g' "$f"
sed -i 's/1771Hz/1771 \, \text{Hz}/g' "$f"
sed -i 's/17kHz/17 \, \text{kHz}/g' "$f"
sed -i 's/180405Hz/180405 \, \text{Hz}/g' "$f"
sed -i 's/180405ùêªùëß/180405 \, \text{Hz}/g' "$f"
sed -i 's/180kHz/180 \, \text{kHz}/g' "$f"
sed -i 's/190Hz/190 \, \text{Hz}/g' "$f"
sed -i 's/1940s/1940 \, \text{s}/g' "$f"
sed -i 's/1970s/1970 \, \text{s}/g' "$f"
sed -i 's/1990s/1990 \, \text{s}/g' "$f"
sed -i 's/1Hz/1 \, \text{Hz}/g' "$f"
sed -i 's/1m/1 \, \text{m}/g' "$f"
sed -i 's/2.5Pa/2.5 \, \text{Pa}/g' "$f"
sed -i 's/2000s/2000 \, \text{s}/g' "$f"
sed -i 's/200Hz/200 \, \text{Hz}/g' "$f"
sed -i 's/20kHz/20 \, \text{kHz}/g' "$f"
sed -i 's/20m/20 \, \text{m}/g' "$f"
sed -i 's/210Hz/210 \, \text{Hz}/g' "$f"
sed -i 's/214s/214 \, \text{s}/g' "$f"
sed -i 's/22550ùêªùëß/22550 \, \text{Hz}/g' "$f"
sed -i 's/22Hz/22 \, \text{Hz}/g' "$f"
sed -i 's/2655Hz/2655 \, \text{Hz}/g' "$f"
sed -i 's/2m/2 \, \text{m}/g' "$f"
sed -i 's/2√ó10‚àí4m/2√ó10‚àí4 \, \text{m}/g' "$f"
sed -i 's/300Hz/300 \, \text{Hz}/g' "$f"
sed -i 's/30m/30 \, \text{m}/g' "$f"
sed -i 's/343m/343 \, \text{m}/g' "$f"
sed -i 's/3450Hz/3450 \, \text{Hz}/g' "$f"
sed -i 's/3540Hz/3540 \, \text{Hz}/g' "$f"
sed -i 's/360kHz/360 \, \text{kHz}/g' "$f"
sed -i 's/4.5dB/4.5 \, \text{dB}/g' "$f"
sed -i 's/40Hz/40 \, \text{Hz}/g' "$f"
sed -i 's/40kHz/40 \, \text{kHz}/g' "$f"
sed -i 's/43m/43 \, \text{m}/g' "$f"
sed -i 's/44Hz/44 \, \text{Hz}/g' "$f"
sed -i 's/5000Hz/5000 \, \text{Hz}/g' "$f"
sed -i 's/50kHz/50 \, \text{kHz}/g' "$f"
sed -i 's/50m/50 \, \text{m}/g' "$f"
sed -i 's/572Hz/572 \, \text{Hz}/g' "$f"
sed -i 's/5kHz/5 \, \text{kHz}/g' "$f"
sed -i 's/5m/5 \, \text{m}/g' "$f"
sed -i 's/600Hz/600 \, \text{Hz}/g' "$f"
sed -i 's/60m/60 \, \text{m}/g' "$f"
sed -i 's/6500Hz/6500 \, \text{Hz}/g' "$f"
sed -i 's/6Pa/6 \, \text{Pa}/g' "$f"
sed -i 's/6√ó10‚àí6s/6√ó10‚àí6 \, \text{s}/g' "$f"
sed -i 's/700Hz/700 \, \text{Hz}/g' "$f"
sed -i 's/7m/7 \, \text{m}/g' "$f"
sed -i 's/800Hz/800 \, \text{Hz}/g' "$f"
sed -i 's/824Hz/824 \, \text{Hz}/g' "$f"
sed -i 's/858Hz/858 \, \text{Hz}/g' "$f"
sed -i 's/885Hz/885 \, \text{Hz}/g' "$f"
sed -i 's/88ùêªùëß/88 \, \text{Hz}/g' "$f"
sed -i 's/8m/8 \, \text{m}/g' "$f"
sed -i 's/928Hz/928 \, \text{Hz}/g' "$f"

  echo "Done: $f (backup: $f.bak)"
done
